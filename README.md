# CI/CD Pipeline for Python App with Docker and Jenkins

## Проект

Цей репозиторій містить простий Python-додаток, який запускає HTTP-сервер. Для автоматизації побудови, тестування та розгортання додатку налаштовано Jenkins пайплайн.

## Опис проекту

1. **app.py** — простий Python-сервер, який відповідає на HTTP-запити.
2. **Dockerfile** — контейнеризація Python-додатку.
3. **Jenkinsfile** — конфігурація CI/CD пайплайна для Jenkins, що включає етапи:
   - Збірка Docker-образу.
   - Розгортання Docker-контейнера.
   - Тестування за допомогою HTTP-запиту.
   - Зупинка контейнера та видалення образу.

## Налаштування

### 1. Створіть репозиторій на GitHub

- Створіть репозиторій на GitHub і завантажте код.
- Замініть `REPO_URL` у `Jenkinsfile` на URL вашого репозиторія.

### 2. Налаштування Docker

- Встановіть Docker на вашу машину або сервер.
- Для запуску контейнера використовується Dockerfile, який будує образ і запускає сервер.

### 3. Налаштування Jenkins

1. Встановіть Jenkins і налаштуйте плагіни для роботи з Docker.
2. Створіть новий проект у Jenkins:
   - Тип проекту: Pipeline.
   - Вкажіть URL репозиторія та вкажіть шлях до `Jenkinsfile`.
3. В Jenkins, натисніть кнопку "Build Now" для запуску пайплайну. Якщо все налаштовано правильно, Jenkins виконає етапи збірки образу, тестування та розгортання.

### 4.Перевірка

1.На сторінці пайплайну можна побачити, як кожен етап успішно виконується або отримує повідомлення про помилку.

2.Також можно побачити що сервер відповідає статусом 200.
![Скріншот успішного білду](images/succes-build.png)

![Скріншот робочого серверу](images/succes-server.png)


Кінцевий Результат
Налаштований пайплайн: Пайплайн можна запустити в Jenkins для автоматичної збірки, тестування і розгортання.
Документований процес: Документація доступна для налаштування і використання Jenkins пайплайну для контейнеризованого Python-додатку.


# Документація по налаштуванню моніторингу з Prometheus, Grafana та Node Exporter

Цей проект налаштовує моніторинг за допомогою **Prometheus**, **Grafana** та **Node Exporter** для збору метрик з вашого сервера або контейнерів. Також налаштовані алерти для високого використання CPU та пам'яті.

### 1.1 Запуск Node Exporter

Для збору метрик з вашого сервера необхідно запустити контейнер **Node Exporter**:
   
2.1 Запуск Prometheus
    Створіть файл конфігурації prometheus.yml
    Запустіть контейнер Prometheus:

3.1 Запуск Grafana
    Запустіть контейнер Grafana
    Відкрийте Grafana в браузері: http://localhost:3000
    
4.1 Налаштування Grafana
    
   Додавання джерела даних Prometheus
   
   У Grafana перейдіть до налаштувань (іконка шестерні).
   Перейдіть до Data Sources.
   Додайте нове джерело даних, вибравши Prometheus.
   Введіть URL вашого сервера Prometheus (наприклад, http://localhost:9090).
   Натисніть Save & Test для перевірки підключення.
5.1 Створення дашборда
 
 Перейдіть до Create -> Dashboard.

 Додайте панель (наприклад, Graph) і виберіть як джерело даних Prometheus.

6.1 Налаштування алертів у Prometheus
   
   Додавання алертів у prometheus.yml
   
   Оновіть файл prometheus.yml, додавши налаштування для алертів:
   
   Створення правил алертів
   Створіть файл alert_rules.yml з правилами для алертів

   Після зміни конфігурації перезапустіть контейнер Prometheus

   Налаштування Alertmanager для надсилання сповіщень через slack

7.1 Налаштування alertmanager.yml
    
   Створіть файл конфігурації alertmanager.yml для налаштування сповіщень:



   Висновок
   
   Ця конфігурація забезпечує:

   Prometheus для збору метрик.
   
   Grafana для візуалізації метрик.
 
   Alertmanager для надсилання сповіщень через email при перевищенні порогових значень використання CPU чи пам'яті.

   ![Дашборду сервера](images/dashboard.png)
